// Enhanced blog and experience sharing JavaScript

// Enhanced blog data with unique content
const blogPosts = [
    {
        id: 1,
        title: "The Secret Underground Stepwells of Gujarat",
        excerpt: "Explore the architectural marvels hidden beneath Gujarat's surface - intricate stepwells that showcase medieval India's water conservation genius.",
        content: `Gujarat's stepwells (vav) represent one of India's most ingenious architectural innovations, combining functionality with breathtaking beauty. These subterranean structures, built between the 11th and 16th centuries, served as both water reservoirs and community gathering spaces.

        The Rani ki Vav in Patan, a UNESCO World Heritage Site, descends seven levels underground with over 1,500 sculptures depicting Hindu mythology. The intricate carvings tell stories of the Dashavatara, showcasing artistic mastery that rivals any temple.

        The Dada Harir stepwell in Ahmedabad features an octagonal structure with beautiful geometric patterns. Its five-story depth creates a natural cooling system, demonstrating ancient understanding of climate-responsive architecture.

        These stepwells were more than water sources - they were social hubs where people gathered, especially during festivals. The acoustic design allowed voices to carry across multiple levels, facilitating community interaction.

        Today, these forgotten marvels are being rediscovered as tourists and architects recognize their sustainable design principles and artistic excellence. They offer insights into medieval India's sophisticated urban planning and water management systems.`,
        category: "Heritage",
 Updated upstream
        author: "Priya Sharma",
        date: "2024-12-15",
        image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop"

        author: "Arjun Patel",
        date: "2024-12-20",
        image: "https://images.unsplash.com/photo-1599492488363-3ea6b8e27e70?w=800&h=600&fit=crop",
        featured: true
 Stashed changes
    },
    {
        id: 2,
        title: "Bamboo Cooking: The Forgotten Art of Northeast India",
        excerpt: "Discover how tribal communities of Northeast India create culinary magic using bamboo as cooking vessels, preserving ancient flavors and traditions.",
        content: `In the lush hills of Northeast India, bamboo transcends its role as a building material to become the ultimate cooking vessel. This sustainable practice, passed down through generations of tribal communities, creates dishes with unique flavors impossible to replicate with modern cookware.

        The Naga tribes stuff rice, meat, and vegetables inside young bamboo segments, sealing them with leaves before placing them over open fires. The bamboo imparts a subtle, earthy flavor while steaming the contents to perfection. This technique, called 'bamboo steaming,' retains maximum nutrition and creates incredibly tender textures.

        Assamese communities use bamboo to prepare 'Bamboo Chicken' - marinated meat cooked inside bamboo tubes with local herbs and spices. The result is succulent meat infused with a distinctive smoky-sweet flavor that no metal pot can achieve.

        The Manipuri 'Eromba' preparation involves fish curry cooked in bamboo containers, creating a harmony between the freshwater fish and the subtle bamboo essence. The cooking process is also eco-friendly, leaving no waste as the bamboo container biodegrades naturally.

        Beyond taste, bamboo cooking represents a philosophy of living in harmony with nature. These communities understand that the young bamboo's moisture content and natural properties create ideal cooking conditions, demonstrating ancient wisdom about sustainable gastronomy.

        Today, as chefs worldwide seek authentic flavors and sustainable practices, Northeast India's bamboo cooking techniques offer valuable insights into eco-friendly culinary traditions.`,
        category: "Food",
        author: "Priya Devi",
        date: "2024-12-18",
        image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=800&h=600&fit=crop"
    },
    {
        id: 3,
        title: "Hornbill Festival: Where 16 Tribes Unite in Nagaland",
        excerpt: "Witness India's most vibrant tribal festival where ancient traditions, warrior dances, and indigenous crafts celebrate the rich heritage of Nagaland's diverse communities.",
        content: `The Hornbill Festival in Nagaland represents India's most spectacular celebration of tribal diversity, where 16 distinct Naga tribes showcase their unique cultures in a harmonious festival of unity. Held in Kisama village every December, this 'Festival of Festivals' transforms the landscape into a living museum of indigenous traditions.

        Each tribe brings its distinctive warrior dances, colorful attire, and traditional songs. The Angami tribe's intricate beadwork contrasts beautifully with the Konyak tribe's tattoo traditions and headhunter legacy. The Ao tribe's log drums create thunderous rhythms that echo across the hills.

        The festival showcases forgotten arts - bamboo carving, traditional weaving, and indigenous brewing techniques. Visitors can witness the creation of Naga shawls, each pattern telling ancestral stories, and taste local delicacies like smoked pork with bamboo shoot curry and rice beer.

        The night concerts feature a unique blend of traditional folk songs and contemporary Naga rock bands, representing the community's seamless integration of ancient and modern cultures. The traditional Naga wrestling and archery competitions demonstrate skills passed down through generations.

        Beyond entertainment, Hornbill Festival serves as a platform for preserving endangered languages, traditional knowledge, and crafts. Young Nagas learn ancestral skills while showcasing their heritage to the world.

        The festival's success has inspired other Northeastern states to celebrate their tribal heritage, making it a catalyst for cultural preservation across India's tribal communities.`,
        category: "Festivals",
        author: "Temjen Longkumer",
        date: "2024-12-15",
        image: "https://images.unsplash.com/photo-1548181092-6d2e66e87abb?w=800&h=600&fit=crop"
    },
    {
        id: 4,
        title: "Theyyam: When Gods Dance in Kerala's Villages",
        excerpt: "Experience the mystical ritual art of Theyyam, where ordinary villagers transform into divine beings through elaborate makeup, costumes, and possessed dance.",
        content: `Theyyam represents one of India's most ancient and powerful ritual art forms, where the boundaries between performer and deity dissolve in a trance-like transformation. In Kerala's Malabar region, this 1500-year-old tradition turns ordinary villagers into living embodiments of gods and goddesses.

        The transformation begins hours before dawn with elaborate body painting using natural pigments - red ochre, turmeric, charcoal, and rice paste. Each Theyyam has distinctive makeup patterns and costumes that can weigh up to 30 kilograms. The iconic headgear, some reaching 15 feet high, creates an otherworldly presence.

        Over 400 different Theyyams exist, each representing specific deities, heroes, or spirits. The performer enters a trance state, believed to be possessed by the divine spirit. During this transformation, they deliver oracles, bless devotees, and resolve community disputes as the deity they embody.

        The ritual serves multiple social functions - it provides spiritual guidance, maintains social harmony, and preserves oral histories. Theyyam performances often occur in sacred groves (kavus) that protect local biodiversity, linking environmental conservation with spiritual practice.

        What makes Theyyam unique is its egalitarian nature. Performers often come from marginalized communities, yet during the ritual, they become the most revered figures, with even upper-caste devotees seeking their blessings.

        This ancient art form challenges conventional religious hierarchies while preserving indigenous knowledge systems, demonstrating how traditional practices can address contemporary social issues.`,
        category: "Culture",
<<<<<<< Updated upstream
        author: "Meera Nair",
        date: "2024-11-28",
        image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop"
=======
        author: "Ravi Nambiar",
        date: "2024-12-12",
        image: "https://images.unsplash.com/photo-1580418827493-f2b22c0a76cb?w=800&h=600&fit=crop"
>>>>>>> Stashed changes
    },
    {
        id: 5,
        title: "The Living Root Bridges of Meghalaya",
        excerpt: "Marvel at the bioengineering genius of Khasi tribes who grow bridges from living rubber tree roots, creating structures that strengthen with time.",
        content: `In the misty hills of Meghalaya, the Khasi tribes have mastered a form of bioengineering that puts modern technology to shame. For over 500 years, they have been growing bridges from the living roots of rubber trees (Ficus elastica), creating structures that become stronger with age.

        The process begins with young rubber tree saplings planted on opposite sides of streams. The pliable roots are guided across bamboo scaffolding and hand-woven into bridge shapes. This organic architecture takes 10-15 years to mature into a functional bridge, but can then support up to 50 people at once.

        The most famous is the double-decker bridge near Nongriat village, where two root bridges have been stacked vertically. Some bridges stretch over 100 feet and have remained functional for centuries. Unlike man-made structures that deteriorate, these living bridges actually strengthen over time as roots grow thicker.

        The Khasi technique involves no nails, cement, or modern materials - only traditional knowledge passed down through generations. They use betel nut tree trunks as guides and local bamboo for temporary support, demonstrating sustainable engineering principles.

        These bridges represent more than transportation infrastructure; they embody a philosophy of living in harmony with nature. The Khasi people understand forest ecology deeply, knowing which trees to use, when to harvest, and how to maintain the delicate balance.

        Climate change and modernization threaten this ancient practice, but younger Khasi generations are rediscovering its value. International architects and engineers now study these bridges for insights into sustainable construction methods.`,
        category: "Travel",
        author: "Mary Khongsit",
        date: "2024-12-08",
        image: "https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=800&h=600&fit=crop"
    },
    {
        id: 6,
        title: "Phad Painting: Rajasthan's Epic Storytelling Canvas",
        excerpt: "Explore the vibrant tradition of Phad painting, where master artists create epic narratives on cloth using natural pigments and ancestral techniques.",
        content: `Phad painting represents one of Rajasthan's most dynamic storytelling traditions, where epic tales unfold across vast cloth canvases painted with natural pigments. This 700-year-old art form transforms religious narratives into visual spectacles that come alive through performance.

        Master Phad artists, known as Chitrakars, create scrolls up to 30 feet long depicting the adventures of folk heroes like Pabuji and Devnarayan. Using hand-prepared cloth and natural colors from minerals, vegetables, and stones, they paint intricate scenes filled with horses, camels, warriors, and gods.

        The painting process follows strict traditional methods. Artists prepare the canvas by washing, starching, and polishing it with a stone until smooth. Colors are made from ochre (red), lapislazuli (blue), hinglu (orange), and other natural sources, mixed with gum arabic to ensure longevity.

        Phad paintings are not static art pieces but performance tools. Bhopa singers carry these scrolls from village to village, unrolling sections while narrating corresponding story episodes. The performance continues through the night, with oil lamps illuminating different scenes as the story progresses.

        Each painting follows complex iconographic rules - heroes are depicted in profile, divine figures face forward, and specific colors represent different emotions and characters. The detailed borders feature geometric patterns and mythical creatures.

        Today, while traditional Bhopa performances decline, Phad painting survives through the Joshi family of Bhilwara, who have been awarded UNESCO recognition for preserving this unique combination of visual art and oral tradition.

        Contemporary artists are adapting Phad techniques for modern themes while maintaining traditional methods, ensuring this storytelling tradition continues to evolve.`,
        category: "Art",
<<<<<<< Updated upstream
        author: "Kavita Desai",
        date: "2024-11-15",
        image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop"
=======
        author: "Shanti Joshi",
        date: "2024-12-05",
        image: "https://images.unsplash.com/photo-1582652297511-2dded37f4722?w=800&h=600&fit=crop"
>>>>>>> Stashed changes
    }
];

// Enhanced shared experiences with unique stories
let sharedExperiences = [
    {
        id: 1,
        title: "Night Trek to Valley of Flowers",
        location: "Uttarakhand",
        text: "Witnessed the ethereal beauty of blooming alpine flowers under moonlight. The silence broken only by distant temple bells created a surreal experience.",
        author: "Ananya Sharma",
        image: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",
        date: "2024-12-01"
    },
    {
        id: 2,
<<<<<<< Updated upstream
        title: "Festival of Colors in Mathura",
        location: "Uttar Pradesh",
        text: "Celebrating Holi in Krishna's birthplace was an incredible experience. The energy, colors, and devotion of the people made it unforgettable.",
        author: "Sneha Gupta",
        image: "https://images.unsplash.com/photo-1583391733956-6c78276477e2?w=400&h=300&fit=crop",
=======
        title: "Learning Warli Art from Tribal Masters",
        location: "Maharashtra",
        text: "Spent a week with Warli artisans learning their ancient painting techniques using rice paste and natural ochre. Each pattern tells stories of their ancestors.",
        author: "Rohan Patel",
        image: "https://images.unsplash.com/photo-1582652297511-2dded37f4722?w=400&h=300&fit=crop",
>>>>>>> Stashed changes
        date: "2024-11-25"
    },
    {
        id: 3,
        title: "Silk Weaving Apprenticeship in Kanchipuram",
        location: "Tamil Nadu",
        text: "Learned the intricate art of silk weaving from master craftsmen. The metallic threads and complex patterns require years to master - true dedication to craft.",
        author: "Lakshmi Menon",
        image: "https://images.unsplash.com/photo-1583391733956-6c78276477e2?w=400&h=300&fit=crop",
        date: "2024-11-18"
    }
];

// DOM Elements
const tabBtns = document.querySelectorAll('.tab-btn');
const blogSection = document.getElementById('blog-section');
const experienceSection = document.getElementById('experience-section');
const blogGrid = document.getElementById('blog-grid');
const experiencesGrid = document.getElementById('experiences-grid');
const experienceForm = document.getElementById('experience-form');
const modal = document.getElementById('blog-modal');
const successMessage = document.getElementById('success-message');

// Initialize the page
document.addEventListener('DOMContentLoaded', function() {
    initializeSlideshow();
    renderFeaturedBlog();
    renderBlogPosts();
    renderSharedExperiences();
    setupEventListeners();
    setupCategoryFilter();
    showBlogSection(); // Show blog section by default
});

// Slideshow functionality
let currentSlide = 0;
const slides = ['Heritage Wonders', 'Culinary Journeys', 'Festival Chronicles'];

function initializeSlideshow() {
    const dots = document.querySelectorAll('.nav-dot');
    dots.forEach((dot, index) => {
        dot.addEventListener('click', () => goToSlide(index));
    });
    
    // Auto-advance slideshow
    setInterval(nextSlide, 5000);
}

function nextSlide() {
    currentSlide = (currentSlide + 1) % 3;
    goToSlide(currentSlide);
}

function goToSlide(slideIndex) {
    const slideElements = document.querySelectorAll('.slide');
    const dots = document.querySelectorAll('.nav-dot');
    
    slideElements.forEach((slide, index) => {
        slide.classList.toggle('active', index === slideIndex);
    });
    
    dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === slideIndex);
    });
    
    currentSlide = slideIndex;
}

// Featured blog functionality
function renderFeaturedBlog() {
    const featuredBlog = blogPosts.find(post => post.featured) || blogPosts[0];
    const featuredContainer = document.getElementById('featured-blog');
    
    featuredContainer.innerHTML = `
        <div class="featured-content">
            <div class="featured-image-container" style="position: relative; overflow: hidden; border-radius: 20px;">
                <img src="${featuredBlog.image}" alt="${featuredBlog.title}" style="width: 100%; height: 300px; object-fit: cover; transition: transform 0.4s ease;">
                <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, rgba(255, 153, 51, 0.8), rgba(19, 136, 8, 0.8)); display: flex; align-items: center; justify-content: center; color: white; text-align: center; padding: 2rem;">
                    <div>
                        <span style="background: rgba(255, 255, 255, 0.2); padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; font-weight: 600; margin-bottom: 1rem; display: inline-block;">${featuredBlog.category}</span>
                        <h2 style="font-family: 'Playfair Display', serif; font-size: 2rem; font-weight: 700; margin-bottom: 1rem; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);">${featuredBlog.title}</h2>
                        <p style="font-size: 1.1rem; margin-bottom: 1rem; opacity: 0.9;">${featuredBlog.excerpt}</p>
                        <div style="font-size: 0.9rem; opacity: 0.8;">
                            <span>By ${featuredBlog.author}</span> • <span>${formatDate(featuredBlog.date)}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
    
    featuredContainer.onclick = () => openBlogModal(featuredBlog);
}

// Category filtering
function setupCategoryFilter() {
    const filterBtns = document.querySelectorAll('.filter-btn');
    filterBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const category = btn.dataset.category;
            filterBlogPosts(category);
            
            // Update active button
            filterBtns.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        });
    });
}

function filterBlogPosts(category) {
    const filteredPosts = category === 'all' 
        ? blogPosts.filter(post => !post.featured)
        : blogPosts.filter(post => post.category === category && !post.featured);
    
    blogGrid.innerHTML = '';
    
    if (filteredPosts.length === 0) {
        blogGrid.innerHTML = '<p style="text-align: center; color: #666; padding: 2rem; font-size: 1.2rem;">No stories found in this category.</p>';
        return;
    }
    
    filteredPosts.forEach((post, index) => {
        const blogCard = createBlogCard(post);
        blogCard.style.animationDelay = `${index * 0.1}s`;
        blogGrid.appendChild(blogCard);
    });
}

// Tab switching functionality
function setupEventListeners() {
    tabBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const target = btn.dataset.tab;
            switchTab(target);
        });
    });

    // Experience form submission
    experienceForm.addEventListener('submit', handleExperienceSubmission);

    // Modal close functionality
    document.getElementById('close-modal').addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
    });

    // Image upload functionality
    setupImageUpload();

    // Escape key to close modal
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('active')) {
            closeModal();
        }
    });
}

function switchTab(target) {
    // Update tab buttons
    tabBtns.forEach(btn => btn.classList.remove('active'));
    document.querySelector(`[data-tab="${target}"]`).classList.add('active');

    // Update sections
    if (target === 'blog') {
        showBlogSection();
    } else {
        showExperienceSection();
    }
}

function showBlogSection() {
    blogSection.classList.add('active');
    experienceSection.classList.remove('active');
}

function showExperienceSection() {
    experienceSection.classList.add('active');
    blogSection.classList.remove('active');
}

// Render blog posts (excluding featured)
function renderBlogPosts() {
    const regularPosts = blogPosts.filter(post => !post.featured);
    blogGrid.innerHTML = '';
    
    regularPosts.forEach((post, index) => {
        const blogCard = createBlogCard(post);
        blogCard.style.animationDelay = `${index * 0.1}s`;
        blogGrid.appendChild(blogCard);
    });
}

function createBlogCard(post) {
    const card = document.createElement('div');
    card.className = 'blog-card';
    card.onclick = () => openBlogModal(post);
    
    card.innerHTML = `
        <img src="${post.image}" alt="${post.title}" class="blog-image">
        <div class="blog-content">
            <span class="blog-category">${post.category}</span>
            <h3 class="blog-title">${post.title}</h3>
            <p class="blog-excerpt">${post.excerpt}</p>
            <div class="blog-meta">
                <span>By ${post.author}</span>
                <span>${formatDate(post.date)}</span>
            </div>
        </div>
    `;
    
    return card;
}

// Render shared experiences
function renderSharedExperiences() {
    experiencesGrid.innerHTML = '';
    
    sharedExperiences.forEach((experience, index) => {
        const experienceCard = createExperienceCard(experience);
        experienceCard.style.animationDelay = `${index * 0.1}s`;
        experiencesGrid.appendChild(experienceCard);
    });
}

function createExperienceCard(experience) {
    const card = document.createElement('div');
    card.className = 'experience-card';
    
    card.innerHTML = `
        <img src="${experience.image}" alt="${experience.title}" class="experience-image">
        <div class="experience-content">
            <span class="experience-location">${experience.location}</span>
            <h3 class="experience-title">${experience.title}</h3>
            <p class="experience-text">${experience.text}</p>
            <div class="experience-author">
                <div class="author-avatar">${experience.author.charAt(0)}</div>
                <span>${experience.author} • ${formatDate(experience.date)}</span>
            </div>
        </div>
    `;
    
    return card;
}

// Modal functionality
function openBlogModal(post) {
    document.getElementById('modal-image').src = post.image;
    document.getElementById('modal-category').textContent = post.category;
    document.getElementById('modal-title').textContent = post.title;
    document.getElementById('modal-meta').textContent = `By ${post.author} • ${formatDate(post.date)}`;
    document.getElementById('modal-text').innerHTML = post.content.replace(/\n\s+/g, '</p><p>');
    
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeModal() {
    modal.classList.remove('active');
    document.body.style.overflow = 'auto';
}

// Experience form handling
function handleExperienceSubmission(e) {
    e.preventDefault();
    
    const formData = new FormData(e.target);
    const experience = {
        id: Date.now(),
        title: formData.get('title'),
        location: formData.get('location'),
        text: formData.get('experience'),
        author: formData.get('name'),
        image: document.getElementById('preview-image').src || 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop',
        date: new Date().toISOString().split('T')[0]
    };
    
    // Validate required fields
    if (!experience.title || !experience.location || !experience.text || !experience.author) {
        alert('Please fill in all required fields.');
        return;
    }
    
    // Show loading state
    const submitBtn = document.getElementById('submit-btn');
    const originalText = submitBtn.innerHTML;
    submitBtn.innerHTML = '<span class="spinner"></span>Sharing your experience...';
    submitBtn.disabled = true;
    
    // Simulate API call
    setTimeout(() => {
        // Add to shared experiences
        sharedExperiences.unshift(experience);
        renderSharedExperiences();
        
        // Show success message
        showSuccessMessage();
        
        // Reset form
        experienceForm.reset();
        resetImageUpload();
        
        // Reset button
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
        
        // Switch to blog tab to show the new experience
        setTimeout(() => {
            switchTab('blog');
        }, 2000);
    }, 1500);
}

function showSuccessMessage() {
    successMessage.classList.add('show');
    setTimeout(() => {
        successMessage.classList.remove('show');
    }, 5000);
}

// Image upload functionality
function setupImageUpload() {
    const uploadArea = document.getElementById('image-upload-area');
    const fileInput = document.getElementById('image-input');
    const imagePreview = document.getElementById('image-preview');
    const previewImage = document.getElementById('preview-image');
    const removeImageBtn = document.getElementById('remove-image');
    
    uploadArea.addEventListener('click', () => fileInput.click());
    
    uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.classList.add('dragover');
    });
    
    uploadArea.addEventListener('dragleave', () => {
        uploadArea.classList.remove('dragover');
    });
    
    uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.classList.remove('dragover');
        const files = e.dataTransfer.files;
        if (files.length > 0) {
            handleImageUpload(files[0]);
        }
    });
    
    fileInput.addEventListener('change', (e) => {
        if (e.target.files.length > 0) {
            handleImageUpload(e.target.files[0]);
        }
    });
    
    removeImageBtn.addEventListener('click', (e) => {
        e.preventDefault();
        resetImageUpload();
    });
}

function handleImageUpload(file) {
    if (!file.type.startsWith('image/')) {
        alert('Please select a valid image file.');
        return;
    }
    
    if (file.size > 5 * 1024 * 1024) { // 5MB limit
        alert('Image size should be less than 5MB.');
        return;
    }
    
    const reader = new FileReader();
    reader.onload = (e) => {
        document.getElementById('preview-image').src = e.target.result;
        document.getElementById('image-preview').style.display = 'block';
        document.getElementById('upload-text').textContent = 'Image uploaded successfully!';
    };
    reader.readAsDataURL(file);
}

function resetImageUpload() {
    document.getElementById('image-input').value = '';
    document.getElementById('image-preview').style.display = 'none';
    document.getElementById('upload-text').textContent = 'Click to upload or drag and drop';
    document.getElementById('preview-image').src = '';
}

// Utility functions
function formatDate(dateString) {
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    return new Date(dateString).toLocaleDateString('en-IN', options);
}

// Search functionality (optional enhancement)
function searchBlogPosts(query) {
    const filteredPosts = blogPosts.filter(post => 
        post.title.toLowerCase().includes(query.toLowerCase()) ||
        post.content.toLowerCase().includes(query.toLowerCase()) ||
        post.category.toLowerCase().includes(query.toLowerCase())
    );
    
    blogGrid.innerHTML = '';
    filteredPosts.forEach(post => {
        const blogCard = createBlogCard(post);
        blogGrid.appendChild(blogCard);
    });
}

// Mobile menu toggle (if needed)
function toggleMobileMenu() {
    const navMenu = document.querySelector('.nav-menu');
    navMenu.classList.toggle('active');
}

// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Add scroll effect to navbar
window.addEventListener('scroll', () => {
    const navbar = document.querySelector('.navbar');
    if (window.scrollY > 50) {
        navbar.style.background = 'rgba(0, 0, 0, 0.95)';
    } else {
        navbar.style.background = 'rgba(0, 0, 0, 0.9)';
    }
});

// Initialize page animations
window.addEventListener('load', () => {
    document.body.style.opacity = '1';
    document.body.style.transition = 'opacity 0.5s ease';
});

// Set current year in footer
document.addEventListener('DOMContentLoaded', () => {
    const yearElement = document.getElementById('year');
    if (yearElement) {
        yearElement.textContent = new Date().getFullYear();
    }
});

// Intersection Observer for scroll animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Observe elements for scroll animation
document.addEventListener('DOMContentLoaded', () => {
    const animateElements = document.querySelectorAll('.blog-card, .experience-card');
    animateElements.forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });
});
